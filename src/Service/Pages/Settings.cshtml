@page "/settings"
@model SettingsModel

@using Microsoft.AspNetCore.Antiforgery;
@inject IAntiforgery antiforgery
@{
    ViewData["Title"] = "Dina inställningar";
    ViewData["Description"] = "Ändra vilka flygplatser du vill ska synas.";

    string crsfToken = antiforgery.GetAndStoreTokens(HttpContext).RequestToken;
}

<script src="~/js/settings.js" asp-append-version="true"></script>


<div class="text-center mt-4">
    <h1>Dina inställningar</h1>

    <div class="mt-3">
        <p>Välj nedan vilka flygplatser du vill se METAR, TAF och NOTAM för.<br />Klicka på sparaknappen när du är färdig. Dina inställningar kommer att sparas i webbläsaren</p>
    </div>

    <div class="auto-overflow-x">
        <table class="mt-5">
            <thead>
                <tr>
                    <th>Flygplats</th>
                    <th>METAR</th>
                    <th>TAF</th>
                    <th>NOTAM</th>
                </tr>
            </thead>
            <tbody id="table-airport-selection" />
        </table>
    </div>

    <div class="my-5">
        <form id="settings-form" action="/settings" method="post">
            <input type="hidden" name="__RequestVerificationToken" value="@crsfToken" />

            <a id="button-save-settings" class="main-button" onclick="saveSettings()">
                <i class="material-icons">lock</i>
                <span>Spara inställningar</span>
            </a>
        </form>
    </div>
</div>